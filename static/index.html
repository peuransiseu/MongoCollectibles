<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MongoCollectibles - Premium Collectible Rentals</title>
    <meta name="description"
        content="Rent premium collectibles from MongoCollectibles. Choose from vintage action figures, models, and arcade machines.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/css/styles.css?v=3">
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <h1 class="logo">MongoCollectibles</h1>
            <nav>
                <!-- Auth Section (shown when not logged in) -->
                <div id="authButtons" style="display: none;">
                    <button class="btn btn-secondary" id="loginBtn">Login</button>
                    <button class="btn btn-primary" id="registerBtn">Register</button>
                </div>
                <!-- User Section (shown when logged in) -->
                <div id="userSection" style="display: none;">
                    <button class="btn btn-secondary" id="viewCartBtn">üõí Cart (<span id="cartCount">0</span>)</button>
                    <button class="btn btn-secondary" id="viewOrdersBtn">üì¶ My Orders</button>
                    <button class="btn btn-outline" id="logoutBtn">Logout</button>
                </div>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h2 class="hero-title">Rent the Past. Own the Moment.</h2>
            <p class="hero-subtitle">Premium collectibles delivered to your nearest store</p>
        </div>
    </section>

    <!-- Main Content -->
    <main class="container">
        <!-- Store Selection -->
        <section class="section-header">
            <h2 class="section-title">Select Your Pickup Store</h2>
            <div class="form-group">
                <div class="custom-select" id="storeSelect">
                    <div class="select-trigger" id="storeSelectTrigger">
                        <div class="content">
                            <span class="select-icon">üìç</span>
                            <span class="selected-text">Select a store...</span>
                        </div>
                        <span class="arrow-icon">‚ñº</span>
                    </div>
                    <div class="select-options" id="storeOptions">
                        <!-- Options will be dynamically populated -->
                        <div class="loading">Loading stores...</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Collectibles Section -->
        <section>
            <div class="section-header">
                <h2 class="section-title">Available Collectibles</h2>
                <p class="section-subtitle">Browse our premium collection of rare and vintage items</p>
            </div>

            <div id="collectiblesGrid" class="collectibles-grid">
                <div class="loading">Loading collectibles...</div>
            </div>
        </section>
    </main>

    <!-- Rental Modal -->
    <div id="rentalModal" class="modal" style="display: none;">
        <div class="modal-content">
            <button class="modal-close" id="closeModal">&times;</button>

            <h2 id="modalTitle">Rent Collectible</h2>

            <div id="modalBody">
                <!-- Rental Duration -->
                <div class="form-group">
                    <label class="form-label" for="rentalDuration">Rental Duration (days)</label>
                    <input type="number" id="rentalDuration" class="form-input" min="1" value="7"
                        placeholder="Enter number of days">
                </div>

                <!-- Quote Summary -->
                <div id="quoteSummary" class="quote-summary" style="display: none;">
                    <div class="quote-row">
                        <span>Daily Rate:</span>
                        <span id="quoteDaily">‚Ç±0.00</span>
                    </div>
                    <div class="quote-row">
                        <span>Duration:</span>
                        <span id="quoteDuration">0 days</span>
                    </div>
                    <div class="quote-row quote-total">
                        <span>Total:</span>
                        <span id="quoteTotal">‚Ç±0.00</span>
                    </div>
                    <div class="quote-row">
                        <span>ETA for Pickup:</span>
                        <span id="quoteETA" style="font-weight: 600; color: var(--primary-color);">Calculating...</span>
                    </div>
                </div>

                <!-- Special Rate Notice -->
                <div id="specialRateNotice" class="special-rate-notice" style="display: none;">
                    ‚ö†Ô∏è Special rate applied: Rentals under 7 days are charged at double the normal rate.
                </div>

                <!-- Accepted Payment Methods -->
                <div class="form-group"
                    style="width: 100%; overflow: hidden; background: white; padding: 1.25rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); margin-bottom: 2rem;">
                    <label class="form-label" style="color: #1a1a1a; font-weight: 700;">Accepted Payment Methods</label>
                    <div class="payment-methods-grid"
                        style="display: flex !important; flex-wrap: wrap !important; gap: 12px !important; margin: 1rem 0 !important; justify-content: flex-start !important;">
                        <div class="payment-icon-item" title="Mastercard"
                            style="width: 64px !important; height: 40px !important; background: #f8f9fa !important; border: 1px solid #eee !important;">
                            <img src="https://checkout.paymongo.com/static/media/MasterCard.974dcf15.svg"
                                class="payment-icon" alt="Mastercard"
                                style="width: 52px !important; height: 28px !important; object-fit: contain !important;">
                        </div>
                        <div class="payment-icon-item" title="Visa"
                            style="width: 64px !important; height: 40px !important; background: #f8f9fa !important; border: 1px solid #eee !important;">
                            <img src="https://checkout.paymongo.com/static/media/Visa.d5d698fa.svg" class="payment-icon"
                                alt="Visa"
                                style="width: 52px !important; height: 28px !important; object-fit: contain !important;">
                        </div>
                        <div class="payment-icon-item" title="GCash"
                            style="width: 64px !important; height: 40px !important; background: #f8f9fa !important; border: 1px solid #eee !important;">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/52/GCash_logo.svg/320px-GCash_logo.svg.png"
                                class="payment-icon" alt="GCash"
                                style="width: 52px !important; height: 28px !important; object-fit: contain !important;">
                        </div>
                        <div class="payment-icon-item" title="GrabPay"
                            style="width: 64px !important; height: 40px !important; background: #f8f9fa !important; border: 1px solid #eee !important;">
                            <img src="https://brandlogos.net/wp-content/uploads/2025/11/grabpay_horizontal-logo_brandlogos.net_cdivk-scaled.png"
                                class="payment-icon" alt="GrabPay"
                                style="width: 52px !important; height: 28px !important; object-fit: contain !important;">
                        </div>
                        <div class="payment-icon-item" title="Maya"
                            style="width: 64px !important; height: 40px !important; background: #f8f9fa !important; border: 1px solid #eee !important;">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e6/Maya_logo.svg/320px-Maya_logo.svg.png"
                                class="payment-icon" alt="Maya"
                                style="width: 52px !important; height: 28px !important; object-fit: contain !important;">
                        </div>
                        <div class="payment-icon-item" title="BPI Online"
                            style="width: 64px !important; height: 40px !important; background: #f8f9fa !important; border: 1px solid #eee !important;">
                            <img src="https://images.seeklogo.com/logo-png/48/2/bank-of-the-philippine-islands-logo-png_seeklogo-482593.png"
                                class="payment-icon" alt="BPI Online"
                                style="width: 60px !important; height: 45px !important; object-fit: contain !important;">
                        </div>
                        <div class="payment-icon-item" title="QRPH"
                            style="width: 64px !important; height: 40px !important; background: #f8f9fa !important; border: 1px solid #eee !important;">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/3/35/QR_Ph_Logo.svg"
                                class="payment-icon" alt="QRPH"
                                style="width: 52px !important; height: 28px !important; object-fit: contain !important;">
                        </div>
                    </div>
                    <p style="font-size: 0.85rem; color: #666; margin-top: 0.5rem; line-height: 1.4;">
                        You will be redirected to our secure payment partner to complete your transaction.
                    </p>
                </div>

                <!-- Customer Details -->
                <h3 style="margin-top: 1.5rem; margin-bottom: 1rem;">Billing Details</h3>

                <div class="form-group">
                    <label class="form-label" for="customerName">Full Name *</label>
                    <input type="text" id="customerName" class="form-input" required placeholder="Juan Dela Cruz">
                </div>

                <div class="form-group">
                    <label class="form-label" for="customerEmail">Email *</label>
                    <input type="email" id="customerEmail" class="form-input" required placeholder="juan@example.com">
                </div>

                <div class="form-group">
                    <label class="form-label" for="customerPhone">Phone Number *</label>
                    <input type="tel" id="customerPhone" class="form-input" required placeholder="+63 912 345 6789">
                </div>

                <div class="form-group">
                    <label class="form-label" for="customerAddress">Address *</label>
                    <input type="text" id="customerAddress" class="form-input" required
                        placeholder="123 Main Street, Barangay">
                </div>

                <div class="form-group">
                    <label class="form-label" for="customerCity">City *</label>
                    <input type="text" id="customerCity" class="form-input" required placeholder="Manila">
                </div>

                <div class="form-group">
                    <label class="form-label" for="customerPostal">Postal Code *</label>
                    <input type="text" id="customerPostal" class="form-input" required placeholder="1000">
                </div>

                <!-- Action Buttons -->
                <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                    <button class="btn btn-secondary" id="cancelBtn" style="flex: 1;">Cancel</button>
                    <button class="btn btn-primary" id="proceedToPaymentBtn" style="flex: 2;">Proceed to
                        Payment</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Page (hidden by default) -->
    <div id="successPage" style="display: none;">
        <div class="container" style="text-align: center; padding: 4rem 2rem;">
            <h1 style="font-size: 3rem; margin-bottom: 1rem;">‚úÖ Payment Successful!</h1>
            <p style="font-size: 1.2rem; color: var(--text-secondary); margin-bottom: 2rem;">
                Your rental has been confirmed. You'll receive a confirmation email shortly.
            </p>
            <button class="btn btn-primary" onclick="location.reload()">Browse More Collectibles</button>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>Login</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" id="loginEmail" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <input type="password" id="loginPassword" class="form-input" required>
                </div>
                <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                    <button type="button" class="btn btn-secondary" id="closeLoginModal"
                        style="flex: 1;">Cancel</button>
                    <button type="submit" class="btn btn-primary" style="flex: 2;">Login</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Register Modal -->
    <div id="registerModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>Register</h2>
            <form id="registerForm">
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" id="registerEmail" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <input type="password" id="registerPassword" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Confirm Password</label>
                    <input type="password" id="registerPasswordConfirm" class="form-input" required>
                </div>
                <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                    <button type="button" class="btn btn-secondary" id="closeRegisterModal"
                        style="flex: 1;">Cancel</button>
                    <button type="submit" class="btn btn-primary" style="flex: 2;">Register</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Cart Modal -->
    <div id="cartModal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 800px;">
            <h2>Shopping Cart</h2>
            <div id="cartItems"></div>
            <div id="cartTotal" style="margin-top: 2rem; padding-top: 1rem; border-top: 2px solid var(--border);"></div>
            <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                <button class="btn btn-secondary" id="closeCartModal" style="flex: 1;">Continue Shopping</button>
                <button class="btn btn-primary" id="checkoutBtn" style="flex: 2;">Checkout</button>
            </div>
        </div>
    </div>

    <!-- Orders Modal -->
    <div id="ordersModal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 900px;">
            <h2>My Orders</h2>
            <div id="ordersList"></div>
            <div style="margin-top: 2rem;">
                <button class="btn btn-secondary" id="closeOrdersModal">Close</button>
            </div>
        </div>
    </div>

    <script src="/js/app.js?v=4"></script>
    <script src="/js/checkout.js?v=3"></script>
</body>

</html>